(this["webpackJsonppacman-reactjs"]=this["webpackJsonppacman-reactjs"]||[]).push([[0],[,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/eatpill.083d62b4.ogg"},function(e,t,a){e.exports=a.p+"static/media/opening_song.f653b7b5.ogg"},function(e,t,a){e.exports=a.p+"static/media/die.70171cce.ogg"},function(e,t,a){e.exports=a.p+"static/media/eatghost.45f4836c.ogg"},function(e,t,a){e.exports=a.p+"static/media/eating.short.36b2a2b3.ogg"},function(e,t,a){e.exports=a.p+"static/media/eating.b8372a5b.ogg"},,function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(7),i=a.n(r),c=(a(20),a(1)),s=a(14),u=a(2),l=a(8),d=a.n(l),f=a(9),b=a.n(f),g=a(10),m=a.n(g),p=a(11),v=a.n(p),h=a(12),j=a.n(h),O=a(13),y=a.n(O),w=Object(n.forwardRef)((function(e,t){var a=e.audioFiles,r=(e.soundDisabled,e.game,Object(n.useState)([])),i=Object(u.a)(r,2),c=i[0],s=(i[1],Object(n.useState)([])),l=Object(u.a)(s,2),d=l[0],f=(l[1],Object(n.useState)([])),b=Object(u.a)(f,2),g=b[0],m=b[1];Object(n.useCallback)((function(e){var t,n=[],o=!1;if(a&&0!==a.length){for(a[e].removeEventListener("ended",c[e],!0),t=0;t<g.length;t++)!o&&g[t]?o=!0:n.push(g[t]);m(n)}}),[a,c,g]),Object(n.useCallback)((function(e,t,n){e.loaded===e.total&&"function"===typeof n&&(n(),a[t].removeEventListener("canplaythrough",d[t],!0))}),[a,d]);return Object(n.useImperativeHandle)(t,(function(){return{play:function(e,t,a){if(!t)return null;var n;if(document.getElementById(e+"_audio")){(n=document.getElementById(e+"_audio")).playbackRate=1.5;var o=n.play();void 0!==o&&o.then((function(e){console.log("Audio actived")})).catch((function(e){console.log("Audio load prevented")}))}else(n=document.createElement("audio")).setAttribute("id",e+"_audio"),n.setAttribute("preload","true"),n.setAttribute("autobuffer","true"),n.setAttribute("src",t),n.autoplay=!0,n.load(),n.addEventListener("load",(function(){n.play()}),!0);document.body.appendChild(n)},disableSound:function(){for(var e=0;e<g.length;e++)a[g[e]].pause(),a[g[e]].currentTime=0;m([])},pause:function(){for(var e=0;e<g.length;e++)a[g[e]].pause()},resume:function(){for(var e=0;e<g.length;e++)a[g[e]].play()}}}),[a,g]),o.a.createElement("div",{className:"audio_empty",ref:t})})),E=(a(6),Object(n.forwardRef)((function(e,t){return e.board.map((function(e,t){return o.a.createElement("div",{className:"row"},e.map((function(e,t){var a="square";return 0===e&&(a="square"),1===e&&(a="square wall"),2===e&&(a="square dot"),3===e&&(a="square power dot"),o.a.createElement("div",{className:a})})))}))}))),x=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,3,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,3,1],[1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1],[1,2,1,0,0,1,2,1,0,0,0,1,2,1,1,2,1,0,0,0,1,2,1,0,0,1,2,1],[1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,2,1],[1,2,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,2,1],[1,2,2,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,2,2,1],[1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1],[0,0,0,0,0,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,0,0,0,0,0],[0,0,0,0,0,1,2,1,1,2,2,2,2,2,2,2,2,2,2,1,1,2,1,0,0,0,0,0],[0,0,0,0,0,1,2,1,1,2,1,1,1,0,0,1,1,1,2,1,1,2,1,0,0,0,0,0],[1,1,1,1,1,1,2,1,1,2,1,0,0,0,0,0,0,1,2,1,1,2,1,1,1,1,1,1],[0,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,0],[1,1,1,1,1,1,2,1,1,2,1,0,0,0,0,0,0,1,2,1,1,2,1,1,1,1,1,1],[0,0,0,0,0,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,0,0,0,0,0],[0,0,0,0,0,1,2,1,1,2,2,2,2,2,2,2,2,2,2,1,1,2,1,0,0,0,0,0],[0,0,0,0,0,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,0,0,0,0,0],[1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1],[1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1],[1,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,1],[1,1,1,2,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,1,1],[1,1,1,2,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,1,1],[1,2,2,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,2,2,1],[1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1],[1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1],[1,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],k=Object(n.forwardRef)((function(e,t){var a=Object(n.useRef)(),r=Object(n.useState)(null),i=Object(u.a)(r,2),l=i[0],f=i[1],g=Object(n.useState)({board:x,x:12,old_x:12,y:17,old_y:17,direction:"right",score:0}),p=Object(u.a)(g,2),h=p[0],O=p[1],k=Object(n.useCallback)((function(e,t,a){var n=null;return"right"===a&&(n=h.board[t][e+1]),"left"===a&&(n=h.board[t][e-1]),"down"===a&&(n=h.board[t+1][e]),"up"===a&&(n=h.board[t-1][e]),n}),[h]),_=Object(n.useCallback)((function(e,t,n,o,r){var i=e,c=t,u=Object(s.a)(h.board),d=k(i,c,r);if(1!==d){var f=i,b=c,g=h.score;1!==d&&("right"===r&&i<27&&(f+=1),"left"===r&&i>0&&(f-=1),"down"===r&&c<30&&(b+=1),"up"===r&&c>0&&(b-=1)),2===d?(a.current.play("eating",l.eating[0],l.eating[1]),g+=1,u[b][f]=0):3===d&&(u[b][f]=0,a.current.play("eating2",l.eating2[0],l.eating2[1])),O({x:f,y:b,board:u,old_x:i,old_y:c,direction:r,score:g,sign:n?Math.sign(n):Math.sign(o)})}}),[h.board,h.score,k,l]),N=Object(n.useCallback)((function(e){switch(e.keyCode){case 37:O(Object(c.a)(Object(c.a)({},h),{},{direction:"left",sign:-1}));break;case 39:O(Object(c.a)(Object(c.a)({},h),{},{direction:"right",sign:1}));break;case 38:O(Object(c.a)(Object(c.a)({},h),{},{direction:"up",sign:-1}));break;case 40:O(Object(c.a)(Object(c.a)({},h),{},{direction:"down",sign:1}))}}),[h]);Object(n.useEffect)((function(){l||f({start:[b.a,"start"],die:[m.a,"die"],eatghost:[v.a,"eatghost"],eatpill:[d.a,"eatpill"],eating:[j.a,"eating"],eating2:[y.a,"eating2"]})}),[l]),Object(n.useEffect)((function(){var e="left"===h.direction?-1:"right"===h.direction?1:null,t="up"===h.direction?-1:"down"===h.direction?1:null;window.addEventListener("keydown",N);var a=setInterval((function(){_(h.x,h.y,e,t,h.direction)}),300);return function(){window.removeEventListener("keydown",N),clearInterval(a)}}),[_,N,h.direction,h.x,h.y]),Object(n.useImperativeHandle)(t,(function(){return{}}),[]);var C=100*h.x/28,I=100*h.y/31,L={};return"down"===h.direction?L={marginTop:"10px",marginLeft:"13px"}:"up"===h.direction&&(L={marginTop:"10px",marginLeft:"-9px"}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"containerPacman",style:Object.assign({left:C+"%",top:I-3+"%",transform:"left"===h.direction||"right"===h.direction?"scaleX(".concat(h.sign):"rotate(".concat(90*h.sign,"deg")},L)},o.a.createElement("div",{className:"pacman"},o.a.createElement("div",{className:"pacman__eye"}),o.a.createElement("div",{className:"pacman__mouth"}))),o.a.createElement(E,{board:h.board}),o.a.createElement(w,{ref:a,audioFiles:l,soundDisabled:!1}))}));a(21);var _=function(){return o.a.createElement("div",{className:"board"},o.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.294afd83.chunk.js.map